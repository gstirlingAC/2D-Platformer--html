<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>2D Platformer – Player Movement</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root { --bg:#0f1217; --panel:#151a22; --muted:#9aa4b2; --text:#e9edf2; --accent:#4FC3F7; --border:#243040; --link:#81D4FA; --chip:#1b2230; }
    *{box-sizing:border-box}
    html,body{height:100%}
    body { margin:0; background:var(--bg); color:var(--text);
           font-family: "Segoe UI", system-ui, -apple-system, Roboto, Arial, sans-serif; line-height:1.6; }
    .layout { display:grid; grid-template-columns: 300px 1fr; min-height:100vh; }
    nav { background:var(--panel); border-right:1px solid var(--border); padding:1rem 1rem 2rem; position:sticky; top:0; height:100vh; overflow:auto; }
    nav .title { font-weight:800; color:var(--accent); padding:.5rem .4rem .2rem; letter-spacing:.4px; }
    nav .search { position:sticky; top:0; background:var(--panel); padding:.4rem 0 .8rem; }
    nav .search input { width:100%; padding:.6rem .7rem; border-radius:10px; border:1px solid var(--border); background:#0f141d; color:#e9edf2; outline:none; }
    nav h2 { color:var(--accent); margin:.8rem .4rem .4rem; font-size:1rem; font-weight:700; letter-spacing:.4px; }
    nav .links a { display:flex; gap:.5rem; align-items:center; padding:.5rem .6rem; margin:.2rem 0; color:var(--text); text-decoration:none; border-radius:.6rem; border:1px solid transparent; }
    nav .links a:hover { background:#1b2230; border-color:#2b3b51; }
    nav .links a .num { background:var(--chip); color:var(--muted); font-size:.8rem; padding:.05rem .4rem; border-radius:.4rem; border:1px solid var(--border); }
    main { padding:2rem; max-width: 980px; width:100%; }
    main h1 { color:var(--accent); border-bottom:1px solid var(--border); padding-bottom:.35rem; margin-top:0; }
    main h2, main h3 { color:var(--accent); margin-top:1.2rem; }
    figure { background:#151a22; border:1px solid var(--border); border-left:4px solid var(--accent);
             padding:1rem; margin:1.1rem 0; border-radius:.5rem; }
    img { max-width:100%; height:auto; display:block; margin:auto; }
    figcaption { color:#c7ced7; font-size:.95rem; margin-top:.45rem; }
    ol{list-style:decimal;margin-left:1.5rem;padding-left:1rem}
    ul{list-style:disc;margin-left:1.5rem;padding-left:1rem}
    li{margin:.25rem 0}
    pre { background: #1b1f2a; border: 1px solid #2a3345; border-radius: 6px; padding:1rem; overflow:auto; }
    code.gdscript { font-family: "JetBrains Mono", "Fira Code", "Courier New", monospace; font-size: 0.95rem; color: #e9edf2; tab-size: 4; white-space: pre; }
    .footer { color:#c7ced7; font-size:.9rem; margin:2rem 0 0; }
    .pager { display:flex; gap:.75rem; justify-content:space-between; margin-top:2rem; }
    .pager a { flex:1; text-align:center; background:#151a22; border:1px solid var(--border); color:#81D4FA; padding:.75rem; border-radius:.6rem; text-decoration:none; }
    .chips { display:flex; flex-wrap:wrap; gap:.35rem; margin:.6rem 0 0; }
    .chip { font-size:.8rem; background:#1b2230; color:#9aa4b2; padding:.1rem .5rem; border-radius:999px; border:1px solid var(--border); }
    @media (max-width: 920px) { .layout{grid-template-columns:1fr} nav{position:static;height:auto} }
  </style>
</head>
<body>
  <div class="layout">
    <nav>
      <div class="title">2D Platformer</div>
      <div class="search"><input type="search" id="navSearch" placeholder="Search tutorials…"></div>
      <h2>Contents</h2>
      <div class="links" id="navLinks">
        <a href="2DPlatformer_Introduction.html"><span class="num">01</span><span>Introduction</span></a>
        <a href="2DPlatformer_GameDesign.html"><span class="num">02</span><span>Game Design</span></a>
        <a href="2DPlatformer_ProjectSetup.html"><span class="num">03</span><span>Project Setup</span></a>
        <a href="2DPlatformer_Tilemap.html"><span class="num">04</span><span>Tilemap</span></a>
        <a href="2DPlatformer_PlayerScene.html"><span class="num">05</span><span>Player Scene</span></a>
        <a href="2DPlatformer_InputMap.html"><span class="num">06</span><span>Input Map</span></a>
        <a href="2DPlatformer_PlayerMovement.html" style="background:#1b2230;border-color:#2b3b51;"><span class="num">07</span><span>Player Movement</span></a>
        <a href="2DPlatformer_FlippingthePlayerSprite.html"><span class="num">08</span><span>Flipping the Player Sprite</span></a>
        <a href="2DPlatformer_PlayerAnimation.html"><span class="num">09</span><span>Player Animation</span></a>
        <a href="2DPlatformer_Enemy.html"><span class="num">10</span><span>Enemy</span></a>
        <a href="2DPlatformer_TakingDamage.html"><span class="num">11</span><span>Taking Damage</span></a>
        <a href="2DPlatformer_Coin.html"><span class="num">12</span><span>Coin</span></a>
        <a href="2DPlatformer_Scoring.html"><span class="num">13</span><span>Scoring</span></a>
        <a href="2DPlatformer_EndFlag.html"><span class="num">14</span><span>End Flag</span></a>
      </div>
      <script>
        const q = document.getElementById('navSearch');
        const links = Array.from(document.querySelectorAll('#navLinks a'));
        q?.addEventListener('input', () => {
          const t = q.value.toLowerCase();
          links.forEach(a => a.style.display = a.innerText.toLowerCase().includes(t) ? '' : 'none');
        });
      </script>
    </nav>
    <main>
      <h1>Player Movement</h1>

      <h2>Understanding Jumping Mechanics</h2>
      <p>This section introduces gravity, jump impulses, coyote time (optional), and early-jump cut-off (optional). We’ll keep the script minimal and clear.</p>

      <pre><code inert class="gdscript">extends CharacterBody2D

@export var move_speed : float = 180.0
@export var jump_speed : float = 380.0
@export var gravity    : float = 900.0

# Optional polish:
@export var coyote_time      : float = 0.08  # seconds after leaving ground where jump still allowed
@export var jump_cut_factor  : float = 0.45  # reduces upward velocity when jump released early

var _coyote_timer : float = 0.0

func _physics_process(delta: float) -> void:
	# Apply gravity if not grounded
	if not is_on_floor():
		velocity.y += gravity * delta
	else:
		# Reset coyote timer on ground
		_coyote_timer = coyote_time

	# Horizontal movement
	var input_dir := Input.get_axis("move_left","move_right")
	velocity.x = move_speed * input_dir

	# Track coyote timer while airborne
	if not is_on_floor():
		_coyote_timer = max(_coyote_timer - delta, 0.0)

	# Jump (allowed on floor or within coyote window)
	if Input.is_action_just_pressed("jump") and (is_on_floor() or _coyote_timer &gt; 0.0):
		velocity.y = -jump_speed
		_coyote_timer = 0.0

	# Early jump release (jump cut)
	if Input.is_action_just_released("jump") and velocity.y &lt; 0.0:
		velocity.y *= jump_cut_factor

	move_and_slide()
</code></pre>

      <h2>Horizontal Input</h2>
      <p>Use the left/right (or A/D) actions you added in <em>Input Map</em>. Replace the names below if you used different ones.</p>

      <pre><code inert class="gdscript">var input_dir := Input.get_axis("move_left", "move_right")
velocity.x = move_speed * input_dir</code></pre>

      <h2>Place Your Player Script</h2>
      <ol>
        <li>Select the <strong>Player</strong> node (CharacterBody2D).</li>
        <li>Create a new script and paste the code above.</li>
        <li>Set the exported values (move_speed, jump_speed, gravity) to taste.</li>
      </ol>

      <h2>Test and Iterate</h2>
      <ul>
        <li>Adjust <code inert class="gdscript">move_speed</code> and <code inert class="gdscript">jump_speed</code> until it feels responsive.</li>
        <li>Try enabling coyote time and jump cut to improve feel.</li>
      </ul>

      <!-- Images 39–44 in order -->
      <figure>
        <img src="images/image-39.png" alt="Player Movement — Image 39">
        <figcaption>Player Movement — Image 39</figcaption>
      </figure>
      <figure>
        <img src="images/image-40.png" alt="Player Movement — Image 40">
        <figcaption>Player Movement — Image 40</figcaption>
      </figure>
      <figure>
        <img src="images/image-41.png" alt="Player Movement — Image 41">
        <figcaption>Player Movement — Image 41</figcaption>
      </figure>
      <figure>
        <img src="images/image-42.png" alt="Player Movement — Image 42">
        <figcaption>Player Movement — Image 42</figcaption>
      </figure>
      <figure>
        <img src="images/image-43.png" alt="Player Movement — Image 43">
        <figcaption>Player Movement — Image 43</figcaption>
      </figure>
      <figure>
        <img src="images/image-44.png" alt="Player Movement — Image 44">
        <figcaption>Player Movement — Image 44</figcaption>
      </figure>

      <div class="pager">
        <a href="2DPlatformer_InputMap.html">← Input Map</a>
        <a href="2DPlatformer_FlippingthePlayerSprite.html">Flipping the Player Sprite →</a>
      </div>
      <p class="footer">Tip: Keep exported values visible in the Inspector for fast tuning.</p>
    </main>
  </div>
</body>
</html>
